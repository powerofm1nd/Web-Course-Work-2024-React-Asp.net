{"ast":null,"code":"const initialState = {\n  products: []\n};\nexport const basketReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"ADD_PRODUCT_INTO_BASKET\":\n      let newProduct = action.payload.product;\n      //newProduct.count = action.payload.count;\n\n      const productIndex = state.products.findIndex(p => p.id === newProduct.id);\n      if (productIndex !== -1) {\n        const updatedProducts = [...state.products];\n        updatedProducts[productIndex] = {\n          ...updatedProducts[productIndex],\n          count: updatedProducts[productIndex].count + action.payload.count\n        };\n        return {\n          ...state,\n          products: updatedProducts\n        };\n      } else {\n        newProduct.count = action.payload.count;\n        return {\n          ...state,\n          products: [...state.products, newProduct]\n        };\n      }\n    case \"CLEAR_BASKET\":\n      return {\n        ...state,\n        products: []\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["initialState","products","basketReducer","state","action","type","newProduct","payload","product","productIndex","findIndex","p","id","updatedProducts","count"],"sources":["C:/Users/EugenDesktop/Desktop/course work/web-store/src/redux/reducer/BasketReducer.js"],"sourcesContent":["const initialState = {\r\n    products: [], \r\n};\r\n\r\nexport const basketReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"ADD_PRODUCT_INTO_BASKET\":\r\n            let newProduct = action.payload.product;\r\n            //newProduct.count = action.payload.count;\r\n\r\n            const productIndex = state.products.findIndex(p => p.id === newProduct.id);\r\n\r\n            if (productIndex !== -1) {\r\n                const updatedProducts = [...state.products];\r\n                updatedProducts[productIndex] = {\r\n                    ...updatedProducts[productIndex],\r\n                    count: updatedProducts[productIndex].count + action.payload.count,\r\n                };\r\n                return { ...state, products: updatedProducts };\r\n            } \r\n            else \r\n            {\r\n                newProduct.count = action.payload.count;\r\n                return { ...state, products: [...state.products, newProduct] };\r\n            }\r\n        case \"CLEAR_BASKET\":\r\n            return { ...state, products: [] };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG;EACjBC,QAAQ,EAAE;AACd,CAAC;AAED,OAAO,MAAMC,aAAa,GAAGA,CAACC,KAAK,GAAGH,YAAY,EAAEI,MAAM,KAAK;EAC3D,QAAQA,MAAM,CAACC,IAAI;IACf,KAAK,yBAAyB;MAC1B,IAAIC,UAAU,GAAGF,MAAM,CAACG,OAAO,CAACC,OAAO;MACvC;;MAEA,MAAMC,YAAY,GAAGN,KAAK,CAACF,QAAQ,CAACS,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKN,UAAU,CAACM,EAAE,CAAC;MAE1E,IAAIH,YAAY,KAAK,CAAC,CAAC,EAAE;QACrB,MAAMI,eAAe,GAAG,CAAC,GAAGV,KAAK,CAACF,QAAQ,CAAC;QAC3CY,eAAe,CAACJ,YAAY,CAAC,GAAG;UAC5B,GAAGI,eAAe,CAACJ,YAAY,CAAC;UAChCK,KAAK,EAAED,eAAe,CAACJ,YAAY,CAAC,CAACK,KAAK,GAAGV,MAAM,CAACG,OAAO,CAACO;QAChE,CAAC;QACD,OAAO;UAAE,GAAGX,KAAK;UAAEF,QAAQ,EAAEY;QAAgB,CAAC;MAClD,CAAC,MAED;QACIP,UAAU,CAACQ,KAAK,GAAGV,MAAM,CAACG,OAAO,CAACO,KAAK;QACvC,OAAO;UAAE,GAAGX,KAAK;UAAEF,QAAQ,EAAE,CAAC,GAAGE,KAAK,CAACF,QAAQ,EAAEK,UAAU;QAAE,CAAC;MAClE;IACJ,KAAK,cAAc;MACf,OAAO;QAAE,GAAGH,KAAK;QAAEF,QAAQ,EAAE;MAAG,CAAC;IACrC;MACI,OAAOE,KAAK;EACpB;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}