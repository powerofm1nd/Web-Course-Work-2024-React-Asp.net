{"ast":null,"code":"const initialState = {\n  products: []\n};\nexport const basketReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"ADD_PRODUCT_INTO_BASKET\":\n      let newProduct = action.payload.product;\n      newProduct.count = action.payload.count;\n      const productIndex = state.products.findIndex(p => p.id === newProduct.id);\n      if (productIndex !== -1) {\n        const updatedProducts = [...state.products];\n        updatedProducts[productIndex] = {\n          ...updatedProducts[productIndex],\n          count: updatedProducts[productIndex].count + newProduct.count\n        };\n        return {\n          ...state,\n          products: updatedProducts\n        };\n      } else {\n        return {\n          ...state,\n          products: [...state.products, newProduct]\n        };\n      }\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["initialState","products","basketReducer","state","action","type","newProduct","payload","product","count","productIndex","findIndex","p","id","updatedProducts"],"sources":["C:/Users/EugenDesktop/Desktop/course work/web-store/src/redux/reducer/BasketReducer.js"],"sourcesContent":["const initialState = {\r\n    products: [], \r\n};\r\n\r\nexport const basketReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"ADD_PRODUCT_INTO_BASKET\":\r\n            let newProduct = action.payload.product;\r\n            newProduct.count = action.payload.count;\r\n\r\n            const productIndex = state.products.findIndex(p => p.id === newProduct.id);\r\n\r\n            if (productIndex !== -1) {\r\n                const updatedProducts = [...state.products];\r\n                updatedProducts[productIndex] = {\r\n                    ...updatedProducts[productIndex],\r\n                    count: updatedProducts[productIndex].count + newProduct.count,\r\n                };\r\n                return { ...state, products: updatedProducts };\r\n            } else {\r\n                return { ...state, products: [...state.products, newProduct] };\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG;EACjBC,QAAQ,EAAE;AACd,CAAC;AAED,OAAO,MAAMC,aAAa,GAAGA,CAACC,KAAK,GAAGH,YAAY,EAAEI,MAAM,KAAK;EAC3D,QAAQA,MAAM,CAACC,IAAI;IACf,KAAK,yBAAyB;MAC1B,IAAIC,UAAU,GAAGF,MAAM,CAACG,OAAO,CAACC,OAAO;MACvCF,UAAU,CAACG,KAAK,GAAGL,MAAM,CAACG,OAAO,CAACE,KAAK;MAEvC,MAAMC,YAAY,GAAGP,KAAK,CAACF,QAAQ,CAACU,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKP,UAAU,CAACO,EAAE,CAAC;MAE1E,IAAIH,YAAY,KAAK,CAAC,CAAC,EAAE;QACrB,MAAMI,eAAe,GAAG,CAAC,GAAGX,KAAK,CAACF,QAAQ,CAAC;QAC3Ca,eAAe,CAACJ,YAAY,CAAC,GAAG;UAC5B,GAAGI,eAAe,CAACJ,YAAY,CAAC;UAChCD,KAAK,EAAEK,eAAe,CAACJ,YAAY,CAAC,CAACD,KAAK,GAAGH,UAAU,CAACG;QAC5D,CAAC;QACD,OAAO;UAAE,GAAGN,KAAK;UAAEF,QAAQ,EAAEa;QAAgB,CAAC;MAClD,CAAC,MAAM;QACH,OAAO;UAAE,GAAGX,KAAK;UAAEF,QAAQ,EAAE,CAAC,GAAGE,KAAK,CAACF,QAAQ,EAAEK,UAAU;QAAE,CAAC;MAClE;IACJ;MACI,OAAOH,KAAK;EACpB;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}