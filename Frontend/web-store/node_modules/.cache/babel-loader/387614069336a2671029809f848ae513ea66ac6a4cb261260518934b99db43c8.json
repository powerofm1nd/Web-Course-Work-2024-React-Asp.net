{"ast":null,"code":"const initialState = {\n  products: []\n};\nexport const basketReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"ADD_PRODUCT_INTO_BASKET\":\n      {\n        const newProduct = action.payload.product;\n        const productIndex = state.products.findIndex(p => p.id === newProduct.id);\n        if (productIndex !== -1) {\n          const updatedProducts = [...state.products];\n          updatedProducts[productIndex] = {\n            ...updatedProducts[productIndex],\n            count: updatedProducts[productIndex].count + action.payload.count\n          };\n          return {\n            ...state,\n            products: updatedProducts\n          };\n        } else {\n          return {\n            ...state,\n            products: [...state.products, {\n              ...newProduct,\n              count: action.payload.count\n            }]\n          };\n        }\n      }\n    case \"CLEAR_BASKET\":\n      return {\n        ...state,\n        products: []\n      };\n    case \"REMOVE_PRODUCT_FROM_BASKET\":\n      {\n        const productToDelete = action.payload.product;\n        const productIndex = state.products.findIndex(p => p.id === productToDelete.id);\n        if (productIndex !== -1) {\n          let updatedProducts = [...state.products];\n          updatedProducts.splice(productIndex, 1);\n          return {\n            ...state,\n            products: updatedProducts\n          };\n        } else {\n          return {\n            state\n          };\n        }\n      }\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["initialState","products","basketReducer","state","action","type","newProduct","payload","product","productIndex","findIndex","p","id","updatedProducts","count","productToDelete","splice"],"sources":["C:/Users/EugenDesktop/Desktop/course work/web-store/src/redux/reducer/BasketReducer.js"],"sourcesContent":["const initialState = {\r\n    products: [],\r\n};\r\n\r\nexport const basketReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"ADD_PRODUCT_INTO_BASKET\":\r\n        {\r\n            const newProduct = action.payload.product;\r\n            const productIndex = state.products.findIndex(p => p.id === newProduct.id);\r\n\r\n            if (productIndex !== -1) {\r\n                const updatedProducts = [...state.products];\r\n                updatedProducts[productIndex] = {\r\n                    ...updatedProducts[productIndex],\r\n                    count: updatedProducts[productIndex].count + action.payload.count,\r\n                };\r\n                return { ...state, products: updatedProducts };\r\n            }\r\n            else \r\n            {\r\n                return { ...state, products: [...state.products, {...newProduct, count: action.payload.count}] };\r\n            }\r\n        }\r\n        case \"CLEAR_BASKET\":\r\n            return { ...state, products: [] };\r\n        case \"REMOVE_PRODUCT_FROM_BASKET\":\r\n        {\r\n            const productToDelete = action.payload.product;\r\n            const productIndex = state.products.findIndex(p => p.id === productToDelete.id);\r\n            \r\n            if (productIndex !== -1) {\r\n                let updatedProducts = [...state.products];\r\n                updatedProducts.splice(productIndex, 1);\r\n                return { ...state, products: updatedProducts };\r\n            }\r\n            else \r\n            {\r\n                return { state };\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG;EACjBC,QAAQ,EAAE;AACd,CAAC;AAED,OAAO,MAAMC,aAAa,GAAGA,CAACC,KAAK,GAAGH,YAAY,EAAEI,MAAM,KAAK;EAC3D,QAAQA,MAAM,CAACC,IAAI;IACf,KAAK,yBAAyB;MAC9B;QACI,MAAMC,UAAU,GAAGF,MAAM,CAACG,OAAO,CAACC,OAAO;QACzC,MAAMC,YAAY,GAAGN,KAAK,CAACF,QAAQ,CAACS,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKN,UAAU,CAACM,EAAE,CAAC;QAE1E,IAAIH,YAAY,KAAK,CAAC,CAAC,EAAE;UACrB,MAAMI,eAAe,GAAG,CAAC,GAAGV,KAAK,CAACF,QAAQ,CAAC;UAC3CY,eAAe,CAACJ,YAAY,CAAC,GAAG;YAC5B,GAAGI,eAAe,CAACJ,YAAY,CAAC;YAChCK,KAAK,EAAED,eAAe,CAACJ,YAAY,CAAC,CAACK,KAAK,GAAGV,MAAM,CAACG,OAAO,CAACO;UAChE,CAAC;UACD,OAAO;YAAE,GAAGX,KAAK;YAAEF,QAAQ,EAAEY;UAAgB,CAAC;QAClD,CAAC,MAED;UACI,OAAO;YAAE,GAAGV,KAAK;YAAEF,QAAQ,EAAE,CAAC,GAAGE,KAAK,CAACF,QAAQ,EAAE;cAAC,GAAGK,UAAU;cAAEQ,KAAK,EAAEV,MAAM,CAACG,OAAO,CAACO;YAAK,CAAC;UAAE,CAAC;QACpG;MACJ;IACA,KAAK,cAAc;MACf,OAAO;QAAE,GAAGX,KAAK;QAAEF,QAAQ,EAAE;MAAG,CAAC;IACrC,KAAK,4BAA4B;MACjC;QACI,MAAMc,eAAe,GAAGX,MAAM,CAACG,OAAO,CAACC,OAAO;QAC9C,MAAMC,YAAY,GAAGN,KAAK,CAACF,QAAQ,CAACS,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKG,eAAe,CAACH,EAAE,CAAC;QAE/E,IAAIH,YAAY,KAAK,CAAC,CAAC,EAAE;UACrB,IAAII,eAAe,GAAG,CAAC,GAAGV,KAAK,CAACF,QAAQ,CAAC;UACzCY,eAAe,CAACG,MAAM,CAACP,YAAY,EAAE,CAAC,CAAC;UACvC,OAAO;YAAE,GAAGN,KAAK;YAAEF,QAAQ,EAAEY;UAAgB,CAAC;QAClD,CAAC,MAED;UACI,OAAO;YAAEV;UAAM,CAAC;QACpB;MACJ;IACA;MACI,OAAOA,KAAK;EACpB;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}